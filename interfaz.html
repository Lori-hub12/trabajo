<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Aquasense - Panel de Control</title>
  <style>
    /* 🎨 Paleta */
    :root {
      --azul-agua: #acd5e7;
      --azul-oscuro: #687df1;
      --blanco: #ffffff;
      --gris-claro: #f5f5f5;
      --texto: #333;
    }

    body {
      margin: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: var(--gris-claro);
      color: var(--texto);
    }

    header {
      background-color: var(--azul-agua);
      color: var(--texto);
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 15px 30px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
      border-bottom: 3px solid var(--azul-oscuro);
    }

    header img {
      height: 60px;
    }

    header h1 {
      margin: 0;
      font-size: 1.8rem;
    }

    .container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
      padding: 30px;
    }

    .card {
      background: var(--blanco);
      border-radius: 15px;
      padding: 20px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      transition: transform 0.2s;
    }

    .card:hover {
      transform: translateY(-4px);
    }

    .card h2 {
      margin-top: 0;
      color: var(--azul-oscuro);
      text-align: center;
    }

    #alerta {
      font-size: 1.1rem;
      font-weight: bold;
      text-align: center;
      padding: 10px;
      border-radius: 10px;
    }

    #alerta.ok {
      background-color: #c8f7c5;
      color: #2d6a4f;
    }

    #alerta.warning {
      background-color: #ffe5b4;
      color: #a66300;
    }

    #alerta.danger {
      background-color: #ffb3b3;
      color: #a4161a;
    }

    .perfil-info p {
      margin: 8px 0;
      font-size: 1rem;
    }

    canvas {
      width: 100%;
      height: 250px;
    }

    button {
      background-color: var(--azul-oscuro);
      color: white;
      border: none;
      border-radius: 8px;
      padding: 10px 15px;
      cursor: pointer;
      display: block;
      margin: 15px auto 0 auto;
    }

    button:hover {
      background-color: #4c5dd3;
    }

    footer {
      text-align: center;
      padding: 15px;
      color: #555;
      font-size: 0.9rem;
      background: var(--blanco);
      border-top: 2px solid var(--azul-agua);
    }
  </style>
</head>
<body>
  <header>
    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/7/74/Water_drop_icon.svg/1024px-Water_drop_icon.svg.png" alt="Logo Aquasense" />
    <h1>Panel de Control - Aquasense</h1>
  </header>

  <div class="container">

    <!-- 🚨 Alertas -->
    <div class="card">
      <h2>Alertas de Consumo</h2>
      <div id="alerta" class="ok">✅ El consumo es normal</div>
      <button onclick="verificarConsumo()">Verificar Consumo</button>
    </div>

    <!-- 📊 Historial -->
    <div class="card">
      <h2>Historial de Consumo</h2>
      <canvas id="grafico"></canvas>
    </div>

    <!-- 👤 Perfil -->
    <div class="card">
      <h2>Perfil del Usuario</h2>
      <div class="perfil-info">
        <p><strong>Nombre:</strong> Juan Pérez</p>
        <p><strong>Ubicación:</strong> Managua, Nicaragua</p>
        <p><strong>ID de usuario:</strong> AQ-2045</p>
        <p><strong>Suscripción:</strong> Hogar estándar</p>
      </div>
      <button onclick="editarPerfil()">Editar Perfil</button>
    </div>
  </div>

  <footer>
    © 2025 Aquasense | Sistema de Monitoreo Inteligente de Agua 💧
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script>
    // 📊 Datos de consumo (ejemplo)
    const ctx = document.getElementById("grafico").getContext("2d");
    const meses = ["Ene", "Feb", "Mar", "Abr", "May", "Jun", "Jul", "Ago"];
    let consumos = [30, 40, 35, 70, 90, 45, 120, 60];

    const grafico = new Chart(ctx, {
      type: "bar",
      data: {
        labels: meses,
        datasets: [
          {
            label: "Consumo (Litros)",
            data: consumos,
            backgroundColor: "#687df1aa",
            borderColor: "#687df1",
            borderWidth: 1,
          },
        ],
      },
      options: {
        scales: {
          y: {
            beginAtZero: true,
            max: 150,
          },
        },
      },
    });

    // 🚨 Sistema de alertas
    function verificarConsumo() {
      const promedio = consumos.reduce((a, b) => a + b, 0) / consumos.length;
      const ultimo = consumos[consumos.length - 1];
      const alerta = document.getElementById("alerta");

      if (ultimo <= promedio * 0.9) {
        alerta.textContent = "✅ El consumo es normal";
        alerta.className = "ok";
      } else if (ultimo > promedio * 1.2 && ultimo < promedio * 1.5) {
        alerta.textContent = "⚠️ Consumo elevado detectado";
        alerta.className = "warning";
      } else if (ultimo >= promedio * 1.5) {
        alerta.textContent = "🚨 Consumo crítico. Revise fugas o uso excesivo";
        alerta.className = "danger";
      } else {
        alerta.textContent = "✅ Todo está bajo control";
        alerta.className = "ok";
      }
    }

    // 👤 Edición de perfil simulada
    function editarPerfil() {
      alert("🔧 Función de edición de perfil aún en desarrollo.");
    }
  </script>
</body>
</html>

